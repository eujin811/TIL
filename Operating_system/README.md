# 운영체제론 (Operating Systems)

## Contents
- [운영체제란]()
	- 목적
	- 역할
	- 기능
	- 운영체제 서비스
- [컴퓨터시스템 구성]()
- [하드웨어]()
- [프로세스 관리와 스레드]()
- [병행 프로세스와 상호배제]()
- [교착상태]()
- [주기억장치 관리]()
- [가상기억장치 관리]()
- [입출력과 디스크 관리]()
- [파일 시스템]()
- [시스템 보호와 보안]()
- [다중처리 시스템]()
- [분산처리 시스템]()

## 운영체제
- 사용자 대신 컴퓨터 시스템의 각종 자원을 효율적으로 관리하고 운영
- 하드웨어를 효율적으로 사용하기 위해 사용자 간의 인터페이스 담당한다.
- 사용자 인터페이스의 제공과 자원 관리자로서 중앙처리 장치, 기억 장치, 입출력 장치, 각종 주변장치, 공유된 코드 및 데이터 구조 등을 관리

 **운영체제 목적**
- 편리성 제공
	- 운영체제는 사용자로 하여금 컴퓨터 하드웨어와 소프트웨어를 편리하게 사용할 수 있는 환경 제공
	- 운영체제는 사용자가 효율적인 프로그램 개발과 시스템 점검이 가능하고, 제공되는 서비스를 방해하지 않으며, 새로운 기능 도입할 수 있도록 설계
- 효율성 제공
	- 처리능력 향상
	- 응답시간 or 반환시간 최소화
	- 사용가능도 향상
	- 신뢰도 향상

 **운영체제의 역할**
- 조정자
	- 컴퓨터 시스템을 운영해 여러 운영 자원 적절하게 사용하도록 제어
	- 여러 다른 프로그램이 수행할 수 있는 환경과 서비스를 제공
- 자원 할당자 또는 관리자
	- 컴퓨터 시스템이 문제를 해결하는 데 필요한 자원(프로세서 시간, 메모리 공간, 파일 저장 공간, 입출력 장치 등) 할당하는 역할
	- 컴퓨터 시스템을 공정하고 효율적으로 운영하기 위해 자원 어떻게 할당할지 결정
- 입출력장치와 사용자 프로그램 제어
	- 컴퓨터 시스템의 부적절한 사용, 오류 방지 위해서 프로그램 실행 제어
	- 입출력장치를 비롯해 주변장치들을 동작시키고 통제하는 역할

 **운영체제의 기능**
- 자원 관리자의 관점
	- 운영체제를 하드웨어의 자원을 관리하고 운영하는 관리자로 본다.
	- 자원 관리 수행과정
		1. 시스템 내 자원 상태 추적, 기억
		2. 프로세서에게 언제 어떤 자원을 얼마나 할당할 것인가를 결정하는 정책 수립
		3. 요구된 자원 할당
		4. 사용 끝난 자원 회수
	- 프로세스 관리기능
		- 프로세스: 현재 수행중인 프로그램
		- 각 프로세서의 상태 추적, 기억
		- 프로세스나 스레드가 동등한 시간비율로 수행되게 프로세서를 스케줄링
		- 어떤 프로세스에게 프로세서를 사용하게 할 것인지 결정
			- 작업 스케줄러는 제출된 모든 작업 중에서 실행할 작업을 선정하여 그 작업이 요구하는 자원들을 할당하여 프로세스화
			- 다중 프로그래밍 시스템의 경우 어떤 프로세스가 언제 얼마나 프로세서를 차지할 것인가를 결정 (프로세스 스케줄러로 결정)
		- 프로세스 수행 완료 혹은 양도 또는 허용시간 초과 시 프로세서 회수
		- 프로세스 관리자는 프로세스, 스레드 관리, 추상화된 자원 관리 및 기억 장치와 협력
	- 기억 장치 관리 기능
		- 기억 장치의 상태 추적 및 기억
			- 사용중인 프로세스 어디인가 추적 및 기억
		- 어느 프로세스에게 얼마나 기억 장치를 할당할 것인지 결정
		- 프로세스가 더 이상 기억 장치를 요구하지 않으면 기억 장치를 프로세스로부터 회수
	- 장치 관리기능
		- 입출력 장치, 주변장치 등의 상태 추적, 기억
		- 효율적인 장치 할당 결정 및 굥유 장치 사용시 프로세스 자언량 할당
		- 각 주변장치 구동기는 고유한 장치 제어기를 사용할 수 있게 하며 응용 프로그램에서 해당 장치 제어기의 연산 사용 가능하게 추상화
	- 데이터 관리 기능
		- (파일시스템): 데이터 위치, 사용 여부와 상태 추적, 관리
		- 정보 보호 기법과 보호 정책 수립 및 접근 범위 제시 (어떤 프로그램에게 데이터 자원을 사용하게 할 것인지 결정)

- 프로세스 관점
	- 운영체제를 하나의 작업이 컴퓨터 시스템에 입력되어 실행이 완료될 때까지 프로세스의 상태 변화시키는 프로그램을 본다.
	- 다중 프로그래밍이 환경에서 동시에 여러 개의 프로세스가 주기억장치 내에 존재할 수 있음.
	- 각각의 프로세스들은 실행 완료 전까지 여러 상태 전이 일으키며 실행된다. 	- 프로세스가 처리할 수 있는 프로세스는 어느 한 시점에서 볼 때 오직 하나의 프로세스

- 계층 구조 관점
	- 과거 운영체제는 하나의 큰 프로그램 단위로 구성, 현재는 모듈 단위로 구성 (시스템이 커지고 복잡해짐)
	- 계층 구조 관점은 운영체제를 계층적인 상호관계를 가지는 프로그램 모듈들의 집합
	- 운영체제의 커널 기능
		- 시스템의 어떤 작업이든 커널의 동작에 의해 제어된다.
		- 인터럽트 처리, 프로세스 관리, 메모리 관리, 파일 시스템 관리, 프로그래밍 인터페이스 제공 등 운영체제에서 기본적인 기능 제공하는 핵심 모듈
	- 장점
		- 설계 구현과, 오류 검증 및 수정이 쉽다.
		- 계층별 기능 구분이 뚜렸해 오류 발생한 계층 하위 계층은 신경쓰지 않아도 된다. 
			- 각 계층은 자신보다 저수준의 계층에 의해 제공된 연산만 구현
			- 각 계층은 특정 자료구조, 연산, 하드웨어의 존재를 상위 계층에 숨기게 된다.
	- 단점
		- 하위 계층 기능만 사용가능해 계층간 상하 종속관계 적절하고 명확해야 함
		- 효율성 낮음: 하위 계층 호출에 의한 오버헤드 추가로 시스템 호주시간 증가
		- 위같은 이유로 계층의 수가 적고 많은 기능을 갖는 설계방법 사용하는 추세
			1. **1단계 프로세서 관리**: 동질 혹은 이질의 프로세서들 간에 또는 프로세스들 간에 동기화와 통신, 프로세서의 스케줄링을 위한 프로세서 관리 담당
			2. **2단계 기억장치 관리**: 기억공간의 할당과 회수 기능을 실행하는 기억 장치 관리 담당
			3. **3단계 프로세스 관리**: 프로세스의 생성, 제거, 프로세스 간의 메시지 전달, 프로세서의 시작과 정지 등 담당
			4. **4단계 장치 관리**: 주변 장치의 상태를 파악하여 관리하는 일, 입출력 장치의 스케줄링을 하고 입출력의 전반적인 사항 지시
			5. **5단계 파일과 데이터 관리**: 다양한 파일 연산, 파일의 유지와 관리 담당

 **운영체제 서비스**
- 부팅 서비스 (부트스트랩 서비스)
- 사용자 서비스
- 시스템 서비스
1. **부팅 서비스**
	- 컴퓨터 시스템 시동 및 재시동 작업
	- 운영체제를 디스크로부터 컴퓨터의 주기억 장치로 적재시키는 과정
	- 웜부팅(warm bootstrap): 컴퓨터가 켜진 상태에서 부팅
	- 콜드부팅(cold bootstrap): 꺼진 상태에서 부팅
	- DOS 적재된 개인용 컴퓨터 부팅 순서
		1. 전원	
		2. CPU 초기화
		3. ROM에 저장된 부트스트랩로더 수행
			- 디스크 루트 디렉토리에 존재
		4. 첫번째로 위치한 IO.SYS 읽고 프로그램 실행
		5. 하드웨어 초기화 + DOS 적재
		6. DOS CONFIG.SYS 파일 읽고 내부에 DOS 테이블, 디바이스 드라이버 적재 및 초기화
		7. COMMAND.COM(명령어 해석기)이 명령 해독 및 수행 가능 상태로 변경	
			- AUTOEXEC.BAT 파일에 있는 명령어 자동시행
		8. 하드웨어에 필요한 프로그램 RAM에 적재
		9. RAM 적재된 프로그램 CPU 실행

2. **사용자 서비스**
	- 사용자 인터페이스 제공
		- GUI: 며령어, 메뉴 아이콘, 윈도우등
		- 명령어 인터페이스: DOS 명령어
		- 생체인증 인터페이스: 홍채, 음성, 지문
		- 멀티모달 인터페이스: 글씨나 펜, 신체 동작 인식
	- 프로그램 수행
	- 입출력 동작
	- 파일 시스템 조작
		- 주변장치로부터 파일 CRUD 가능
	- 통신
		- 프로세스들 사이의 통신
		- 컴퓨터 네트워크로 함께 묶인 다중 컴퓨터 시스템 상 프로세스들간 통신
	- 오류 발견
		- 오류의 각 종류에 대해 인터럽트 처리방식 도입 및 조치

3. **시스템 서비스**
	- 컴퓨터 자원관리
		- 운영체제의 중심 요소인 슈퍼바이저 또는 커널이 수행
		- 슈퍼바이저(supervisor): CPU 제어, 컴퓨터가 켜져있는 동안 주기억 장치에 상주하면서 각종 응용프로그램 관리
	- 자원 할당
	- 보호
		- 다중 사용자 시스템 내 소유자끼리 정보 제한
		- 관련 없는 작업 진행 시 다른 작업의 운영체제 접근 제어
		- 외부로부터 시스템 보안
	- 계정
		- 사용자의 컴퓨터 종류별 자원 사용량 체크 가능
## 컴퓨터 시스템 구성

하드웨어 -> 운영체제 -> 시스템 프로그램 -> 응용 프로그램 -> 최종 사용자

 **시스템소프트웨어**
- 응용  프로그램 만들 수 있게 환경 제공해주는 프로그램
- 컴파일러, 어셈블러 등 번역기 및 터널, 명령어 해석기, 시스템 검사, 로더 링커등 OS에 포함된 모든 소프트웨어

 **운영체제**
- 응용 프로그램과 하드웨어 쉽게 사용할 수 있게 해줌
- 전체적인 시스템의 효율 극대화하기 위해 하드웨어와 소프트웨어 자원을 총괄하여 관리하는 시스템 프로그램 
- 운영체제 커널은 독릭접인 여러 하드웨어 장치 제어기 및 장치 드라이버들을 제어

 **하드웨어**
- 컴퓨터 정보 전송 통로 제공
- 정보에 대한 처리가 실제로 일어나게 해주는 물리적 장비
- 중앙처리 장치, 기억 장치, 입출력 장치, 각종 주변장치 포함
- OS가 관리

## 하드웨어
- 컴퓨터 정보 전송 통로
- 정보에 대한 처리가 실제로 일어나게 해주는 물리적인 장비로 OS가 관리해줌
- **중앙처리 장치, 기억 장치, 입추력 장치, 각종 주변장치 포함**

 **중앙처리 장치(CPU)**
- Central Processing Unit (CPU)
- 프로그램 실행, 데이터 처리 두가지의 중추적인 기능 수행 담당
- 운영체제와 가장 밀접, 하드웨어로 각 부분의 동작 제어 및 연산 수행
- 레지스터, 산순 논리 연산장치, 제어창지 등으로 구성
- **Microprocessor(MPU)**
	- CPU 형태중 하나 컴퓨터의 중앙처리장치를 단일의 IC칩에 집적한 반도체 소자
	- 1971 인텔 최초 개발
	- 1개의 IC 디바이스 내에 커머셜 PC의 중앙처리 장치에서 주기억장치 즉 RAM을 제외한 연산장치, 제어장치 및 각종 레지스터 집적한 것
	- MPU의 경우 1개의 칩 내에 CPU, 일정 용량 메모리, 입출력 제어 인터페이스 회로까지 내장
	- 1개의 소자로 하나의 컴퓨터 기능을 갖추고 있어 단일 칩 마이크로 컴퓨터라고 부름

 **기억장치**
- 주기억 장치 (실기억 장치) **RAM**
	- 1차 기억장치로서 고속 액세스가 가능 
	- CPU 가까이 위치해 반도체 기억장치 칩들로 구성
	- 컴퓨터 부팅이 끝나면 기본 메모리 상주 프로그램들, 시스템 프로그램들, 운영체제를 포함한 실행중인 프로그램들이 적재됨
	- 가격 비싸고 면적율이 높음
	- 영구 저장 능력 없어서 프로그램 실행중 일시적으로 사용
	- **RAM** (random access memory) 
		- 주소에 의해 직접 기억 장소 찾아 접근
		- 어떤 기억 장소든 접근 시간 동일
		- **DRAM** (Dynamic RAM)
			- 동적 램, 캐패시터에 전하를 충전하는 방식으로 데이터를 저장하는 기억 소자들로 구성
			- 시간이 자나면 방전, 데이터 저장 상태 유지하기 위해 주기적인 재충전이 필요함
			- 저장 밀도가 높고 같은 용량의 SRAM보다 가격이 싸다.
			- 용량이 큰 주기억장치로 사용
		- **SRAM** (Static RAM)
			- 정적램은 기억 소자로서 플립플롭 이용
			- 전원이 공급되는 동안 재충전 없이도 데이터 계속 유지가능
			- DRAM보다 빨라 속도가 필요한 캐쉬로 사용

- 보조기억 장치
	- 2차 기억장치, 가상기억 장치
	- 기계적인 자이가 포함되기 때문에 접근 속도가 느림, 저장밀도 높음, ㄱ비트 당 비용이 저가
	- 영구 저장 능력을 가짐
	- 자기 디스크, 자기 테이프 사용
	- ** 순차적 접근**
		- 기억장치는 저장된 정보를 처음부터 순서대로 접근하는 방식
		- ex) 자기 테이프
	- ** 직접 접근**
		- 기억장치는 접근할 위치 기ㅡㄴ처로 직접 이동한 다음에 순차적 검색을 통해 최종 위치에 도달하는 방식
		- ex) 디스크, CD-ROM

- 계층적 기억장치 시스템
	- 기억장치 설계에 있어서 가장 중요한 요소는 용량, 속도, 가격
	- 접근 속도가 높아질수록, 비트 당 가격 높아지며, 용량이 커질수록, 비트 당 가격은 낮아지고, 접근 시간은 길어진다.
	- 1단계 계층 기억 장치는 속도가 빠르지만 가격이 높은 기억장치 사용
	- 2단계 계층 기억 장치는 속도는 느리지만, 가격이 낮은 기억장치를 사용
	- 상위 계층으로 갈수록 비트 당 가격이 높아짐, 용량이 감소하며 액세스 시간 짧아짐, CPU에 의한 액세스 빈도는 높아진다.
	- **내부 기억장치**
		- CPU가 직접 액세스 할 수 있는 기억장치	
		- 속도 상승
		- CPU 레지스터, 캐시, 주기억 장치, 디스크 캐시
	- **외부 기억장치**
		- CPU가 직접 액세스할 수 없고, 장치 제어기를 통해서만 액세스 할 수 있는 기억장치들
		- 용량 증가
		- 디스크, 자기 테이프 등
	- 주기억 장치의 접근 속도가 CPU에 비해 현저히 느려서 성능 저하 줄이기 위해 CPU와 주기억장치 사이에 고속의 반도체 기억 장치인 캐시 설치
	- 디스크 캐시는 디스크와 주기억 장치의 접근 속도 차이를 줄이기 위해 그사이에 설치하는 반도체 기억장치

## 프로세스 관리와 스레드


## 병행 프로세스와 상호배제

